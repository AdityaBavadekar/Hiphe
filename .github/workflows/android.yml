name: Android CI

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build:

    runs-on: windows-latest

    steps:
#     - uses: actions/checkout@v2
#     - name: set up JDK 11
#       uses: actions/setup-java@v2
#       with:
#         java-version: '11'
#         distribution: 'adopt'
#         cache: gradle

#     - name: Grant execute permission for gradlew
#       run: chmod +x gradlew
#     - name: Build with Gradle
#       run: ./gradlew build
#       - name: Gradle Build Action
      # You may pin to the exact commit or the version.
      # uses: gradle/gradle-build-action@cba1833ddecbbee649950c284416981928631008
      uses: gradle/gradle-build-action@v2.0-beta.7
      with:
        # Path to the Gradle executable
        gradle-executable: # optional
        # Gradle version to use
        gradle-version: # optional
        # Path to the root directory of the build
        build-root-directory: # optional
        # Gradle command line arguments (supports multi-line input)
        arguments: # optional
        # When 'true', all caching is disabled. No entries will be written to or read from the cache.
        cache-disabled: # optional
        # When 'true', existing entries will be read from the cache but no entries will be written
        cache-read-only: # optional
        # Used to uniquely identify the current job invocation. Defaults to the matrix values for this job; this should not be overridden by users (INTERNAL).
        workflow-job-context: # optional, default is ${{ toJSON(matrix) }}
        # Paths in Gradle User Home to cache. (EXPERIMENTAL - may be changed/removed without notice)
        cache-paths: # optional, default is ["caches", "notifications"]

        # Paths in Gradle User Home to exclude from cache. (EXPERIMENTAL - may be changed/removed without notice)
        cache-exclude-paths: # optional, default is [] 

        # Names and patterns of artifact bundles to cache separately. (EXPERIMENTAL - may be changed/removed without notice)
        cache-artifact-bundles: # optional, default is [
      ["generated-gradle-jars", "caches/*/generated-gradle-jars/*.jar"],
      ["wrapper-zips", "wrapper/dists/*/*/*.zip"],
      ["dependency-jars", "caches/modules-*/files-*/**/*.jar"],
      ["instrumented-jars", "caches/jars-*/*/"],
      ["kotlin-dsl", "caches/*/kotlin-dsl/*/*/"]
    ]

